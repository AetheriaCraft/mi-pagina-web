<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Registro de Estudiantes</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>游닄 Sala de Tareas</h1>
        <!-- Agregar el logo -->
        <img src="ni침o_mi_luz.png" alt="Logo Ni침o Mi Luz">
        <nav>
            <a href="index.html">Inicio</a>
            <a href="register.html">Registro</a>
        </nav>
    </header>

    <main>
        <section id="registro-estudiantes">
            <h2>九꽲잺 Registro de Estudiantes</h2>
            <form id="form-registro">
                <div class="form-group">
                    <label for="nombre-padre">Nombre del Padre y Apellido:</label>
                    <input type="text" id="nombre-padre" name="nombre-padre" required>
                </div>
                
                <div class="form-group">
                    <label for="nombre-madre">Nombre de la Madre y Apellido:</label>
                    <input type="text" id="nombre-madre" name="nombre-madre" required>
                </div>
                
                <div class="form-group">
                    <label for="nombre-estudiante">Nombre del Estudiante:</label>
                    <input type="text" id="nombre-estudiante" name="nombre-estudiante" required>
                </div>
                
                <div class="form-group">
                    <label for="ubicacion">Ubicaci칩n de Casa:</label>
                    <input type="text" id="ubicacion" name="ubicacion" required>
                </div>
                
                <div class="form-group">
                    <label for="telefono">N칰mero de Tel칠fono:</label>
                    <input type="text" id="telefono" name="telefono" required>
                </div>
                
                <div class="form-group">
                    <label for="edad">Edad del Ni침o:</label>
                    <input type="number" id="edad" name="edad" required>
                </div>
                
                <div class="form-group">
                    <label for="grado">Grado del Ni침o:</label>
                    <input type="text" id="grado" name="grado" required>
                </div>
                
                <button type="submit">Registrar</button>
            </form>
        </section>
    </main>

    <!-- Incluir EmailJS -->
    <script type="text/javascript" src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script type="text/javascript">
        (function(){
            emailjs.init("YOUR_PUBLIC_KEY");  // Reemplaza "YOUR_PUBLIC_KEY" con tu Public Key de EmailJS
        })();
    </script>

    <!-- Script de registro -->
    <script type="text/javascript">
        document.addEventListener("DOMContentLoaded", () => {
            const formRegistro = document.getElementById('form-registro');

            if (formRegistro) {
                // Funci칩n para enviar un correo electr칩nico usando EmailJS
                const enviarCorreo = (nombrePadre, nombreMadre, nombreEstudiante, ubicacion, telefono, edad, grado) => {
                    emailjs.send("service_6lrng9k", "template_bl5ganb", {
                        nombre_padre: nombrePadre,
                        nombre_madre: nombreMadre,
                        nombre_estudiante: nombreEstudiante,
                        ubicacion: ubicacion,
                        telefono: telefono,
                        edad: edad,
                        grado: grado,
                        from_name: "Dariel",
                        to_email: "tejadadarieltejada@gmail.com",
                        reply_to: telefono
                    }).then((response) => {
                        console.log('SUCCESS!', response.status, response.text);
                    }, (error) => {
                        console.error('FAILED...', error);
                    });
                };

                // Funci칩n para agregar un estudiante a la lista y enviar correo
                formRegistro.addEventListener('submit', (e) => {
                    e.preventDefault();
                    const nombrePadre = document.getElementById('nombre-padre').value;
                    const nombreMadre = document.getElementById('nombre-madre').value;
                    const nombreEstudiante = document.getElementById('nombre-estudiante').value;
                    const ubicacion = document.getElementById('ubicacion').value;
                    const telefono = document.getElementById('telefono').value;
                    const edad = document.getElementById('edad').value;
                    const grado = document.getElementById('grado').value;

                    // Enviar correo
                    enviarCorreo(nombrePadre, nombreMadre, nombreEstudiante, ubicacion, telefono, edad, grado);

                    formRegistro.reset();
                });
            }
        });
    </script>
</body>
</html>
